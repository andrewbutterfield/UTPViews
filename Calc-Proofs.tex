\section{Calculation Proofs}\label{sec:calc-proofs}

\subsection{Proof of stutter-anytime}

\subsection{Proof of X-then-X}

\RLEQNS{
   \lefteqn{X(E_1|a|R_1|A_1) ; X(E_2|b|R_2|A_2)} &&& \elabel{X-then-X}
\\ &=& E_2 \cap (R_1\sminus A_1) = \emptyset
\\ & & {} \land
   X(E_1 \cup (E_2\sminus A_1)
       |a\seq_s b
       |R_1 \cup R_2
       |(A_1 \sminus R_2) \cup  A_2)
}

\subsection{Proof of A-then-A}

\RLEQNS{
  && A(E_1|a|N_1) \seq A(E_2|a|N_2)
\EQ{\eref{A-alt-def}}
\\&& X(E_1|a|E_1|N_1) \seq X(E_2|a|E_2|N_2)
\EQ{\eref{X-then-X}}
\\&& E_2 \cap (E_1\sminus N_1) = \emptyset
     \land
     X(E_1 \cup (E_2\sminus N_1)
         \mid a\seq_s b
         \mid E_1 \cup E_2
         \mid (N_1 \sminus E_2) \cup  N_2)
}

\subsection{Proof of A-then-X}

\RLEQNS{
  && A(E_1|a|N_1) \seq X(E_2|a|R_2|A_2)
\EQ{\eref{A-alt-def}}
\\&& X(E_1|a|E_1|N_1) \seq X(E_2|a|R_2|A_2)
\EQ{\eref{X-then-X}}
\\&& E_2 \cap (E_1\sminus N_1) = \emptyset
     \land
     X(E_1 \cup (E_2\sminus N_1)
         \mid a\seq_s b
         \mid E_1 \cup R_2
         \mid (N_1 \sminus R_2) \cup  A_2)
}

\subsection{Proof of X-then-A}

\RLEQNS{
  && X(E_1|a|R_1|A_1) \seq A(E_2|a|N_2)
\EQ{\eref{A-alt-def}}
\\&& X(E_1|a|E_1|N_1) \seq X(E_2|a|E_2|N_2)
\EQ{\eref{X-then-X}}
\\&& E_2 \cap (R_1\sminus A_1) = \emptyset
     \land
     X(E_1 \cup (E_2\sminus A_1)
         \mid a\seq_s b
         \mid R_1 \cup E_2
         \mid (A_1 \sminus E_2) \cup  N_2)
}

\subsection{Proof of disjoint-As}

\RLEQNS{
   \lefteqn{(E_1 \cup N_1) \cap (E_2 \cup N_2)=\emptyset} &&& \elabel{disjoint-As}
\\ &\implies&
  A(E_1|a|N_1) \seq A(E_2|b|N_2)
  =
  A(E_1\cup E_2|a\seq b|N_1\cup N_2)
}
We assume $(E_1 \cup N_1) \cap (E_2 \cup N_2)=\emptyset$.
\RLEQNS{
  && A(E_1|a|N_1) \seq A(E_2|b|N_2)
\EQ{\eref{A-then-A}}
\\&& E_2 \cap (E_1\sminus N_1) = \emptyset
     \land
     X(E_1 \cup (E_2\sminus N_1)
         \mid a\seq_s b
         \mid E_1 \cup E_2
         \mid (N_1 \sminus E_2) \cup  N_2)
\EQ{Simply set expressions using assumption}
\\&& \emptyset = \emptyset
     \land
     X(E_1 \cup E_2
         \mid a\seq_s b
         \mid E_1 \cup E_2
         \mid N_1  \cup  N_2)
\EQ{\eref{A-alt-def}}
\\&& A(E_1 \cup E_2
         \mid a\seq_s b
         \mid N_1  \cup  N_2)
}

\subsection{Proof of A2-not-enabled-by-A1}

\RLEQNS{
   \lefteqn{N_1 \cap E_2 = \emptyset}
\\ &\implies&
  A(E_1|a|N_1) \seq A(E_2|b|N_2)
\\ && {} =
  E_2 \cap E_1 = \emptyset
  \land A(E_1\cup E_2|a\seq_s b|N_1\cup N_2)
}
We assume $N_1 \cap E_2 = \emptyset$ and proceed
\RLEQNS{
  && A(E_1|a|N_1) \seq A(E_2|b|N_2)
\EQ{\eref{A-then-A}}
\\&& E_2 \cap (E_1\sminus N_1) = \emptyset
     \land
     X(E_1 \cup (E_2\sminus N_1)
         \mid a\seq_s b
         \mid E_1 \cup E_2
         \mid (N_1 \sminus E_2) \cup  N_2)
\EQ{Simply set expressions using assumption}
\\&& E_2 \cap E_1 = \emptyset
     \land
     X(E_1 \cup E_2
         \mid a\seq_s b
         \mid E_1 \cup E_2
         \mid N_1 \cup  N_2)
\EQ{\eref{A-alt-def}}
\\&& E_2 \cap E_1 = \emptyset
     \land
     A(E_1 \cup E_2
         \mid a\seq_s b
         \mid N_1 \cup  N_2)
}

\subsection{Proof of UTCP-NF}

\RLEQNS{
   P
   &=&
   I_P \land \Skip
      \lor
      \bigvee_{p \in pindex}
      (I_P \land I_n \land X(E_p|a_p|R_p|A_p) \land S_p)
}
for suitable choices of $pindex$, $I_p$, $E_p$, $a_p$, $R_p$, $A_p$ and $S_p$,
depending on $P$.


\subsection{Proof of IandX-then-IandX}

\RLEQNS{
  && (I_1 \land X_1) \seq (I_2 \land X_2)
\EQ{\eref{UTP-seq-def}}
\\&& \exists ls_m,s_m @
   (I_1 \land X_1)[ls_m,s_m/ls',s']
   \land
   (I_2 \land X_2)[ls_m,s_m/ls,s]
\EQ{substitution}
\\&& \exists ls_m,s_m @
\\&& \quad I_1[ls_m,s_m/ls',s'] \land X_1[ls_m,s_m/ls',s']
   \land
   I_2[ls_m,s_m/ls,s] \land X_2[ls_m,s_m/ls,s]
\EQ{$ls',s',s$ not free in $I_i$}
\\&& \exists ls_m,s_m @
   I_1 \land X_1[ls_m,s_m/ls',s']
   \land
   I_2[ls_m/ls] \land X_2[ls_m,s_m/ls,s]
\EQ{shrink scope}
\\&& I_1 \land \exists ls_m,s_m @
   X_1[ls_m,s_m/ls',s']
   \land
   I_2[ls_m/ls] \land X_2[ls_m,s_m/ls,s]
\EQm{X_i = X_i \land ls'=(ls\sminus R_i)\cup A_i}
\\&& I_1 \land \exists ls_m,s_m @
\\&& \quad (X_1 \land ls'=(ls\sminus R_1)\cup A_1)[ls_m,s_m/ls',s']
   \land {}
\\&& \quad I_2[ls_m/ls]
  \land X_2[ls_m,s_m/ls,s]
\EQ{substitution}
\\&& I_1 \land \exists ls_m,s_m @
\\&& \quad X_1[ls_m,s_m/ls',s'] \land ls_m=(ls\sminus R_1)\cup A_1
   \land {}
\\&& \quad I_2[ls_m/ls]
  \land X_2[ls_m,s_m/ls,s]
\EQ{equality replacement}
\\&& I_1 \land \exists ls_m,s_m @
\\&& \quad X_1[ls_m,s_m/ls',s']
   \land {}
\\&& \quad I_2[(ls\sminus R_1)\cup A_1/ls]
  \land X_2[ls_m,s_m/ls,s]
\EQ{shrink scope}
\\&& I_1 \land I_2[(ls\sminus R_1)\cup A_1/ls] \land
  \exists ls_m,s_m @
    X_1[ls_m,s_m/ls',s']
   \land X_2 [ls_m,s_m/ls,s]
\EQ{\eref{UTP-seq-def}}
\\&& I_1 \land I_2[(ls\sminus R_1)\cup A_1/ls] \land (X_1 \seq  X_2)
}


\subsection{Proof of nf-seq}

\RLEQNS{
   I \land (\Skip\lor\bigvee A_i) \seq J \land (\Skip\lor\bigvee B_j)
   &=&
   I \land J \land (\Skip\lor\bigvee (A_i \seq B_j))
}



\newpage
\subsection{Proof of NF-atomic}


\RLEQNS{
  && \catom a
\EQ{\eref{sem:atomic},\eref{DL-def},\eref{W-as-NDC}}
\\&& ~[in|out] \land \setof{in|g|out} \land \bigvee_{i\in\Nat} A(in|a|out)^i
}
We look at $i=2$
\RLEQNS{
  && A(in|a|out) \seq A(in|a|out)
\EQ{\eref{A-then-A}}
\\&& in \cap (in\sminus out) = \emptyset
\\&& {} \land
       X(in \cup (in\sminus out)
           \mid a\seq_s b
           \mid in \cup in
           \mid (out \sminus in) \cup  out)
\EQm{in \cap (in\sminus out) \neq \emptyset}
\\&& \false
}
So all terms with $i\geq 2$ vanish so our result is
\RLEQNS{
  && \catom a
\EQ{\eref{sem:atomic},\eref{DL-def},\eref{W-as-NDC}}
\\&& ~[in|out] \land \setof{in|g|out}
     \land (\Skip \lor A(in|a|out))
\EQ{$g$ does not occur anywhere else}
\\&& ~[in|out] \land \setof{in|out}
     \land (\Skip \lor A(in|a|out))
}

\subsection{Proof of NF-skip}

\RLEQNS{
  && \cskip
\EQ{\eref{sem:skip}}
\\&& \catom{ii}
\EQ{\eref{NF-atomic}}
\\&& \{[in|out]\} \land (\Skip \lor A(in|ii|out))
}

\newpage
\subsection{Proof of NF-seq}

We shall introduce the following normal forms and shorthands,
for this proof, and that for \ecite{NF-a-seq-b} below.
\RLEQNS{
   P &=& \bigvee_p (I_p \land S_p)
\\ Q &=& \bigvee_q (I_q \land T_q)
\\ S_p &=& X(E_p|a_p|R_p|A_p)
\\ T_q &=& X(E_q|a_q|R_q|A_q)
\\ \gamma_1 &=& [\g{:1},\ell_g/g,out]
\\ \gamma_2 &=& [\g{:2},\ell_g/g,in]
\\ I &=& [in|\ell_g|out]
\\ D &=& \{in|g|out\}
\\ D_1 &=& D\gamma_1 ~=~ \{in|\g{:1}|\ell_g\}
\\ D_2 &=& D\gamma_2 ~=~ \{\ell_g|\g{:2}|out\}
}
Here $p$ and $q$ range over appropriate index sets.

\RLEQNS{
  && P \cseq Q
\EQ{\eref{sem:seq}, with $\DL$ expanded}
\\&& [in|\ell_g|out]
     \land \setof{in|g|out}
     \land
     \W( P[\g{:1},\ell_g/g,out]
         \lor
         Q[\g{:2},\ell_g/g,in]   )
\EQ{above shorthands, \eref{W-as-NDC}}
\\&& I
     \land D
     \land
     \bigvee_{i \in \Nat}
       ( P\gamma_1
         \lor
         Q\gamma_2 )^i
\EQ{$P$ and $Q$ are $\DL$-healthy}
\\&& I
     \land D
     \land
     \bigvee_{i \in \Nat}
       ( (D \land P)\gamma_1
         \lor
         (D \land Q)\gamma_2 )^i
\EQ{substitution, shorthand}
\\&& I
     \land D
     \land
     \bigvee_{i \in \Nat}
       ( D_1 \land P\gamma_1
         \lor
         D_2 \land Q\gamma_2 )^i
\EQ{unroll big disjunction a little}
\\&& I
     \land D
     \land
     \left(\begin{array}{l}
        \Skip \lor {}
     \\ D_1 \land P\gamma_1 \lor D_2 \land Q\gamma_2 \lor {}
     \\ ( D_1 \land P\gamma_1 \lor D_2 \land Q\gamma_2 )^2 \lor {}
     \\ \bigvee_{i \in 3,\dots}
          ( D_1 \land P\gamma_1
          \lor
           D_2 \land Q\gamma_2 )^i
     \end{array}\right)
}
Now, we consider the case when $i=2$.
\RLEQNS{
  && ( D_1 \land P\gamma_1 \lor D_2 \land Q\gamma_2 )
     \seq
     ( D_1 \land P\gamma_1 \lor D_2 \land Q\gamma_2 )
\EQ{$\lor$-$\seq$-distr}
\\&    & D_1 \land P\gamma_1 \seq D_1 \land P\gamma_1
\\&\lor& D_1 \land P\gamma_1 \seq D_2 \land Q\gamma_2
\\&\lor& D_2 \land Q\gamma_2 \seq D_1 \land P\gamma_1
\\&\lor& D_2 \land Q\gamma_2 \seq D_2 \land Q\gamma_2
\EQ{\eref{GND-and-seq-L},\eref{GND-and-seq-R},$\land$-idem}
\\&    & D_1 \land (P\gamma_1 \seq P\gamma_1)
\\&\lor& D_1 \land D_2 \land (P\gamma_1 \seq Q\gamma_2)
\\&\lor& D_2 \land D_1 \land (Q\gamma_2 \seq P\gamma_1)
\\&\lor& D_2 \land (Q\gamma_2 \seq Q\gamma_2)
\EQ{seq-gnd-distr}
\\&    & D_1 \land (P \seq P)\gamma_1
\\&\lor& D_1 \land D_2 \land (P\gamma_1 \seq Q\gamma_2)
\\&\lor& D_2 \land D_1 \land (Q\gamma_2 \seq P\gamma_1)
\\&\lor& D_2 \land (Q \seq Q)\gamma_2
\EQ{$P$ and $Q$ are $\W$-healthy, \eref{W-seq-W-is-W}}
\\&    & D_1 \land P\gamma_1
\\&\lor& D_1 \land D_2 \land (P\gamma_1 \seq Q\gamma_2)
\\&\lor& D_2 \land D_1 \land (Q\gamma_2 \seq P\gamma_1)
\\&\lor& D_2 \land Q\gamma_2
\EQ{re-arrange}
\\&    & D_1 \land P\gamma_1 \lor D_2 \land Q\gamma_2
\\&\lor& D_1 \land D_2 \land
        (~ P\gamma_1 \seq Q\gamma_2
          \lor
          Q\gamma_2 \seq P\gamma_1 ~)
}
Now we note that all of this is in a context
where $I \land D$ are conjoined,
so we shall look at the two mixed terms above in such a context.

\newpage
First, the $P$-then-$Q$ term:
\RLEQNS{
  && I \land D \land D_1 \land D_2 \land (P\gamma_1 \seq Q\gamma_2)
\EQ{normal forms as per shorthands}
\\&& I \land D \land D_1 \land D_2
       \land ( (\bigvee_p (I_p \land S_p))\gamma_1
               \seq
               (\bigvee_q (I_q \land T_q))\gamma_2 )
\EQ{substitution,\eref{seq-gnd-distr},\eref{skip-gamma}}
\\&& I \land D \land D_1 \land D_2
       \land ( \bigvee_p (I_p\gamma_1 \land S_p\gamma_1)
               \seq
               \bigvee_q (I_q\gamma_2 \land T_q\gamma_2) )
\EQ{$\seq$-$\lor$-distr}
\\&& I \land D \land D_1 \land D_2
       \land \bigvee_{p,q} 
              ( I_p\gamma_1 \land S_p\gamma_1
               \seq
               I_q\gamma_2 \land T_q\gamma_2 ) 
\\
\\
\\&& [in|\ell_g|out]
     \land \{in|g|out\}
     \land \{in|\g{:1}|\ell_g\}
     \land \{\ell_g|\g{:2}|out\}
\\&\land& (P[\g{:1},\ell_g/g,out] \seq Q[\g{:2},\ell_g/g,in])
}



We show that $P\gamma_1 \seq Q\gamma_2$
is all the mumblings that cross from $P$ to $Q$.
\RLEQNS{
  && P\gamma_1\seq Q\gamma_2
\EQ{normal forms}
\\&& (\bigvee_p S_p\gamma_1) \seq (\bigvee_q T_q\gamma_2)
\EQ{$\seq$-$\lor$-distr}
\\&& \bigvee_{p,q}(S_p\gamma_1  \seq  T_q\gamma_2)
\EQ{$X$-composability}
\\&& \bigvee_{p,q}(S_p\gamma_1  \seq  T_q\gamma_2)
\\&& \textbf{where } A_p = \setof{out} \land E_q = \setof{in}
}

Then, the $Q$-then-$P$ term:
\RLEQNS{
  && I \land D \land D_1 \land D_2 \land (Q\gamma_2 \seq P\gamma_1)
\EQ{expand shorthands}
\\&& [in|\ell_g|out]
     \land \{in|g|out\}
     \land \{in|\g{:1}|\ell_g\}
     \land \{\ell_g|\g{:2}|out\}
\\&\land& (Q\{\ell_g|\g{:2}|out\} \seq \{in|\g{:1}|\ell_g\})
}

We show that $Q\gamma_2\seq P\gamma_1$ vanishes.

We note that we have the following instances of $\DL$:
\[
  [in|g|out] \qquad [in|\g{:1}|\ell_g] \qquad [\ell_g|\g{:2}|out]
\]
\RLEQNS{
  && Q\gamma_2\seq P\gamma_1
\EQ{normal forms}
\\&& (\bigvee_q T_q\gamma_2) \seq (\bigvee_p S_p\gamma_1)
\EQ{$\seq$-$\lor$-distr}
\\&& \bigvee_{q,p} (T_q\gamma_2 \seq S_p\gamma_1)
}
The $T_q\gamma_1$ enable $\g{:2}$ and $out$,
while the $S_p\gamma_1$ are enabled by $in$ and $\g{:1}$.
So all of these terms reduce to $\false.$

\subsection{Proof of NF-a-seq-b}

\RLEQNS{
  && \catom a \cseq \catom b
\EQ{Step 3 in above calculation}
\\&& I
     \land D
     \land
     \bigvee_{i \in \Nat}
       ( \catom a\gamma_1
         \lor
         \catom b\gamma_2 )^i
\EQ{\eref{NF-atomic}}
\\&& I
     \land D
     \land
     \bigvee_{i \in \Nat}
       ( (\{[in|out]\} \land (\Skip \lor A(in|a|out)))\gamma_1
         \lor
         (\{[in|out]\} \land (\Skip \lor A(in|a|out)))\gamma_2 )^i
\EQ{substitution, shorthands}
\\&& I
     \land D
     \land
     \bigvee_{i \in \Nat}
       ( D_1 \land (\Skip \lor A(in|a|\ell_g))
         \lor
         D_2 \land (\Skip \lor A(\ell_g|a|out)) )^i
}

\subsection{Proof of NF-NDC}

\RLEQNS{
   P + Q
   &=& [in|\ell_{g1}|\ell_{g2}|out] \land \dots
}

\subsection{Proof of NF-a-or-b}


\RLEQNS{
   \catom a + \catom b
   &=& \{[in|\ell_{g1}|\ell_{g2}|out]\} \land {}
\\ && \bigvee\left\{
       \begin{array}{l}
          \Skip,
       \\ A(in|ii|\ell_{g1}),
          A(in|ii|\ell_{g2}),
          A(\ell_{g1}|a|out),
          A(\ell_{g2}|b|out),
       \\ A(in|a|out),
          A(in|b|out)
       \end{array}
      \right\}
}


\subsection{Proof of NF-par}

\RLEQNS{
   P \parallel Q
   &=& [in\mid([\ell_{g1}|\ell_{g1:}],[\ell_{g2}|\ell_{g2:}])\mid out]
       \land \dots
   & \elabel{NF-par}
}

\subsection{Proof of NF-a-par-b}


\RLEQNS{
   \catom a \parallel \catom b
   &=& \{in\mid \ell_{g1},\ell_{g1:},\ell_{g2},\ell_{g2:}\mid out\}
        \land {}
\\ && [in\mid([\ell_{g1}|\ell_{g1:}],[\ell_{g2}|\ell_{g2:}])\mid out]
       \land {}
\\ && \bigvee\left\{
       \begin{array}{l}
          \Skip,
       \\ A(in|ii|\ell_{g1},\ell_{g2}),
          A(\ell_{g1:},\ell_{g2:}|ii|out),
       \\ A(\ell_{g1}|a|\ell_{g1:}),
          A(\ell_{g2}|b|\ell_{g2:}),
       \\ A(in|a|\ell_{g1:},\ell_{g2}),
          A(in|b|\ell_{g2:},\ell_{g1}),
       \\ A(\ell_{g1},\ell_{g2}|b;a|\ell_{g1:},\ell_{g2:}),
          A(\ell_{g1},\ell_{g2}|a;b|\ell_{g1:},\ell_{g2:}),
       \\ A(\ell_{g2:},\ell_{g1}|a|out),
          A(\ell_{g1:},\ell_{g2}|b|out),
      \\ A(in|b;a|\ell_{g1:},\ell_{g2:}),
         A(in|a;b|\ell_{g1:},\ell_{g2:}),
      \\ A(\ell_{g1},\ell_{g2}|b;a|out),
         A(\ell_{g1},\ell_{g2}|a;b|out),
      \\ A(in|b;a|out),
         A(in|a;b|out)
       \end{array}
      \right\}
}

\subsection{Proof of NF-iter}

\RLEQNS{
   P^* &=& [in|\ell_g|out] \land \dots
}

\subsection{Proof of NF-a-star}

\RLEQNS{
   \catom a^*
   &=& \{[in|\ell_g|out]\} \land {}
\\ && \bigvee\left\{
       \begin{array}{l}
          \Skip,
       \\ \mathbf{A(in|ii|out)},
          A(in|ii|\ell_g),
          A(\ell_g|a|in)
       \\ A(\ell_g|a|out),
          A(\ell_g|a|\ell_g)
          , A(in|a|in)
       \\ \mathbf{A(in|a|out)},
          A(in|a|\ell_g),
          A(\ell_g|a^2|in)
       \\ A(\ell_g|a^2|out,
          A(\ell_g|a^2|\ell_g),
          A(in|a^2|in)
       \\ \mathbf{A(in|a^2|out)},
          A(in|a^2|\ell_g),
          A(\ell_g|a^3|in)
       \\ A(\ell_g|a^3|out),
          A(\ell_g|a^3|\ell_g),
          A(in|a^3|in),
       \\ \vdots
       \end{array}
      \right\}
}




\subsection{Proof of XXX}

\subsection{Proof of XXX}

\subsection{Proof of XXX}

\subsection{Proof of XXX}

\subsection{Stuff}
This appendix looks like the best place to introduce these shorthands
\RLEQNS{
   ls(\ell) &\defs& \ell \in ls
\\ ls(L) &\defs& L \subseteq ls
\\ ls(\B\ell) &\defs& \ell \notin ls
\\ ls(\B L) &\defs& L \cap ls = \emptyset
}
We define what it means for an atomic action invocation
to satisfy an invariant parameterised on the label type ($Lbl$).
\RLEQNS{
  ls \textbf{ lsat } I \land A(E|a|N) &\implies& ls' \textbf{ lsat } I
}
We can re-formulate this as a following equivalent test:
\RLEQNS{
   A(E|a|N) \textbf{ sat } I_{Lbl}
   &\defs&
   E \textbf{ lsat } I_{Lbl} \land N \textbf{ lsat } I_{Lbl}
}

We present the calculations of normal form examples here.

\subsection{Normal Forms: Sequential Composition}

\subsubsection{Atomic Components}

\subsubsection{Generic Components}

\RLEQNS{
  && P \cseq Q
\EQ{\eref{sem:seq}, with $\DL$}
\\&& [in|\ell_g|out]
     \land \setof{in|g|out}
     \land
     \W( P[\g{:1},\ell_g/g,out]
         \lor
         Q[\g{:2},\ell_g/g,in]   )
}
Shorthands:
We have the following normal forms and shorthands
\RLEQNS{
   P &=& \bigvee_p S_p
\\ Q &=& \bigvee_q T_q
\\ \gamma_1 &=& [\g{:1},\ell_g/g,out]
\\ \gamma_2 &=& [\g{:2},\ell_g/g,in]
\\ I &=& [in|\ell_g|out]
\\ D &=& \{in|g|out\}
\\ D_1 &=& \{in|\g{:1}|\ell_g\}
\\ D_2 &=& \{\ell_g|\g{:2}|out\}
}
So, we shall park the invariants ($I$) and disjointness ($D$) for now,
and focus on $P$ and $Q$ with $\W$.
\RLEQNS{
  && \W( P\gamma_1 \lor Q\gamma_2 )
\EQ{\eref{W-as-NDC}}
\\&& \bigvee_{i \in \Nat} (P\gamma_1 \lor Q\gamma_2)^i
}
Ok, let's try squaring, keeping in mind that we have $I$, $D$, $D_1$
and $D_2$ holding as well.
\RLEQNS{
  && (P\gamma_1 \lor Q\gamma_2)^2
\EQ{$\lor$-$\seq$-distr}
\\&& (P\gamma_1)^2
     \lor
     P\gamma_1\seq Q\gamma_2
     \lor
     Q\gamma_2\seq P\gamma_1
     \lor
     (Q\gamma_2)^2
\EQ{\eref{mumble-closure}}
\\&& P\gamma_1
     \lor
     P\gamma_1\seq Q\gamma_2
     \lor
     Q\gamma_2\seq P\gamma_1
     \lor
     Q\gamma_2
\EQ{Lemma A}
\\&& P\gamma_1
     \lor
     P\gamma_1\seq Q\gamma_2
     \lor
     Q\gamma_2
\EQ{Lemma B}
\\&& P\gamma_1
     \lor
     P\gamma_1\seq Q\gamma_2
     \lor
     Q\gamma_2
}
