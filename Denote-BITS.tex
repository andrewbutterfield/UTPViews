\section{ Denotation BITS}

\RLEQNS{
  \catom a
  &\defs& [in|out] \land \DL(\W(A(in|a|out))) & \elabel{sem:atomic}
\\ P \cseq Q
   &\defs&
   [in|\ell_g|out] \land {}
\\&& \DL(\W(P[g_{:1},\ell_g/g,out] \lor Q[g_{:2},\ell_g/g,in]))
   & \elabel{sem:seq}
\\ P \parallel Q
   &\defs&
   [in|(\ell_{g1}|\ell_{g1:}),(\ell_{g2}|\ell_{g2:})|out] \land {}
   & \elabel{sem:par}
\\&& \DL(\W(\quad\phlor A(in|ii|\ell_{g1},\ell_{g2})
\\ && \qquad\qquad {}\lor
   P[g_{1::},\ell_{g1},\ell_{g1:}/g,in,out]
\\ && \qquad\qquad {}\lor
    Q[g_{2::},\ell_{g2},\ell_{g2:}/g,in,out]
\\ && \qquad\qquad {}\lor
   A(\ell_{g1:},\ell_{g2:}|ii|out)~))
\\ P + Q
   &\defs&
   [in|\ell_{g1}|\ell_{g2}|out] \land {}
   & \elabel{sem:NDC}
\\ && \DL(\W(\quad {}\phlor A(in|ii|\ell_{g1})
\\ && \qquad\qquad {} \lor
                     A(in|ii|\ell_{g2})
\\ && \qquad\qquad {} \lor
   P[g_{1:},\ell_{g1}/g,in]
\\ && \qquad\qquad {} \lor
   Q[g_{2:},\ell_{g2}/g,in]~))
\\ P^*
   &\defs&
   [in|\ell_g|out] \land {}
   & \elabel{sem:star}
\\ && \DL(\W(\quad  \phlor A(in|ii|out)
\\ && \qquad\qquad {}\lor A(in|ii|\ell_g)
\\ && \qquad\qquad {}\lor P[g_{:},\ell_g,in/g,in,out]~))
\\ P \dcond c Q
   &\defs&
   [in|\ell_{g1}|\ell_{g2}|out] \land {}
   & \elabel{sem:cond}
\\ && \DL(\W(\quad {}\phlor A(in|c \land ii|\ell_{g1})
\\ && \qquad\qquad {} \lor
                     A(in|\lnot c \land ii|\ell_{g2})
\\ && \qquad\qquad {} \lor
   P[g_{1:},\ell_{g1}/g,in]
\\ && \qquad\qquad {} \lor
   Q[g_{2:},\ell_{g2}/g,in]~))
\\ c \ddo P
   &\defs&
   [in|\ell_g|out] \land {}
   & \elabel{sem:iter}
\\ && \DL(\W(\quad  \phlor A(in|\lnot c \land ii|out)
\\ && \qquad\qquad {}\lor A(in|c \land ii|\ell_g)
\\ && \qquad\qquad {}\lor P[g_{:},\ell_g,in/g,in,out]~))
}

\subsection{Non-Det Choice (old)}

%
%%<*XXX-def-lhs>
%XXX-lhs
%%</XXX-def-lhs>
%
%%<*XXX-def-rhs>
%XXX-rhs
%%</XXX-def-rhs>
%
%%<*XXX-def-lbl>
%XXX-lbl
%%</XXX-def-lbl>
%
%%<*NDC-sem>
%\RLEQNS{
%   P + Q
%   &\defs&
%   [in|out] \land \DL(\W( P[g_{1}/g] \lor Q[g_{2}/g]~))
%   & \elabel{sem:NDC}
%}
%%</NDC-sem>
%
%%<*NDC-sem-old>
%\RLEQNS{
%   P + Q
%   &\defs&
%   [in|\ell_{g1}|\ell_{g2}|out] \land {}
%   & \elabel{sem:NDC}
%\\ && \DL(\W(\quad {}\phlor A(in|ii|\ell_{g1})
%\\ && \qquad\qquad {} \lor
%                     A(in|ii|\ell_{g2})
%\\ && \qquad\qquad {} \lor
%   P[g_{1:},\ell_{g1}/g,in]
%\\ && \qquad\qquad {} \lor
%   Q[g_{2:},\ell_{g2}/g,in]~))
%}
%%</NDC-sem-old>
%
%\RLEQNS{
%   \{in|g|out\}\varsigma
%   \land [in|\ell_{g1}|\ell_{g2}|out]\varsigma
%   && \eref{ndc-1-inv-ok}
%\\ {} \land A(in|ii|\ell_{g1})\varsigma
%   &\implies&
%   [in|\ell_{g1}|\ell_{g2}|out]'\varsigma
%\\ \{in|g|out\}\varsigma
%   \land [in|\ell_{g1}|\ell_{g2}|out]\varsigma
%   && \eref{ndc-2-inv-ok}
%\\ {} \land A(in|ii|\ell_{g2})\varsigma
%   &\implies&
%   [in|\ell_{g1}|\ell_{g2}|out]'\varsigma
%}
%
%
%\subsection{Templates}
%
%%<*XXX-bit>
%XXX-bit
%%</XXX-bit>
%
%\subsubsection{Equation Templates}
%
%%<*XXX-def-lhs>
%XXX-lhs
%%</XXX-def-lhs>
%
%%<*XXX-def-rhs>
%XXX-rhs
%%</XXX-def-rhs>
%
%%<*XXX-def-lbl>
%XXX-lbl
%%</XXX-def-lbl>
%
%%<*XXX-def>
%\RLEQNS{
%  XXX-lhs
%  &\defs&
%  XXX-rhs
%  & \elabel{XXX-lbl}
%}
%%</XXX-bit>
%
%%<*XXX-eqn>
%\RLEQNS{
%XXX-lhs
%&=&
%XXX-rhs
%}
%%</XXX-eqn>
